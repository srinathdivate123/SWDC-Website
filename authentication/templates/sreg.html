{% if not activities %}

<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrations Closed</title>
    <link rel="icon" href="{% static 'auth/images/swdlogo.png' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        body {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
  background-image: url('../../../../static/auth/images/volunteer.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  display: block;
  align-items: center;
  justify-content: center;
  }

.text-center{
  padding-top: 5%;
}
.social-icon {
  color: #234D20;
}

a {
  text-decoration: none;
}
/* Media query*/
@media (max-width: 768px) {
  .col-md-5 {
    max-width: 100%;
  }
}
@media (min-width: 769px) and (max-width: 992px) {
  .col-md-5 {
    max-width: 80%;
  }
}
@media (max-width: 480px) {
  .col-md-5 {
    max-width: 100%;
  }
  .card {
    padding: 20px;
  }
  .text-center h1 {
    font-size: 24px;
  }
  .text-center p {
    font-size: 16px;
  }
  .social-icon {
    margin: 5px;
  }
}
    </style>
</head>
<body>
    <div class="vh-100 d-flex justify-content-center align-items-center">
        <div class="col-md-5">
            <div class="border border-4 border-success"></div>
            <div class="card bg-white shadow p-4" style="border-radius: 10px;">

                <div class="mb-6 text-center">
                    <img src="{% static 'auth/images/swdlogo.png' %}" width="75" height="75" alt="logo" class="text-success">
                </div>
                <div class="text-center">
                    <div class="alert alert-success">
                        Secretary registrations are currently closed.
                    </div>
                </div>
                <div class="text-center">
                    <h4>Follow us at</h4>
                    <a href="https://www.instagram.com/vitsocials/" target="_blank"><i class="fab fa-instagram social-icon"></i></a>
                    <a href="https://www.linkedin.com/company/vit-social-welfare-development/mycompany/" target="_blank"><i class="fab fa-linkedin social-icon"></i></a>
                    <a href="https://www.youtube.com/@vitsocials783" target="_blank"><i class="fab fa-youtube social-icon"></i></a>
                </div>
            </div>
        </div>
    </div>

</body>
</html>

{% else %}

<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Secretary Registration</title>
    <link rel="stylesheet" href="{% static 'auth/css/style.css' %}" />
    <link rel="icon" href="{% static 'auth/images/swdlogo.png' %}">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/css/bootstrap.min.css">
</head>

<body>
    <div class="navbar">
        <a class="logo" href="#"><img src="{% static 'auth/images/swdlogo.png' %}" alt="Left Logo" height="50"
                width="50" style="margin-left: 4px;"></a>
        <div class="col">
            <div class="row center-text">BRACT's Vishwakarma Institute of Technology</div>
            <div class="row center-text">Social Welfare and Development Committee</div>
        </div>
        <a class="logo" href="#"><img src="{% static 'auth/images/vitlogo.png' %}" alt="Right Logo" height="50"
                width="50" style="margin-right: 4px;"></a>
    </div>
    <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-12 col-md-9 col-lg-7 col-xl-6">
                <div class="card" style="border-radius: 15px">
                    <div class="card-body p-5">

                        <h3 class="text-uppercase text-center mb-5">
                            Secretary Registration
                        </h3>
                        {% include 'messages.html' %}

                        <form class="was-validated" action="{% url 'sreg' %}" method="POST" name="registrationForm"
                            id="myForm">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="name">Name</label>
                                <small>(Your name will be visible to the secretaries of your domain and activity.)</small>
                                <input type="text" name="Name" id="name" class="form-control"
                                    placeholder="Enter your name" required>
                            </div>

                            <div class="form-group">
                                <label for="email">Institute Email</label>
                                <input type="text" name="email" id="email" class="form-control"
                                    placeholder="Enter institute email" pattern="^[a-zA-Z0-9]+.[a-zA-Z0-9]+@vit\.edu$" required>
                            </div>

                            <div class="column larger-column">
                                <div class="form-group">
                                    <label for="prn">PRN Number</label>
                                    <input type="text" name="prn" id="prn" class="form-control" pattern=".{8}"
                                        placeholder="Enter PRN number" required />
                                </div>
                                <div class="form-group">
                                    <label for="roll">Roll Number</label>
                                    <input type="text" name="roll" id="roll" class="form-control"
                                        placeholder="Enter roll no" required />
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="phone">Contact number</label>
                                <input type="text" name="number" id="phone" class="form-control" pattern=".{10}"
                                    placeholder="Enter contact number" required />
                            </div>


                            <div class="form-group">
                                <label for="add">Current Address</label>
                                <input type="text" name="add" id="add" class="form-control"
                                    placeholder="Enter your current address" required>
                            </div>

                            <div class="form-group">
                                <label for="depart">Department</label>
                                <select name="dept" id="depart" required>\
                                    <option value="" disabled selected>Choose...</option>
                                    {% for department in departments %}
                                    <option value="{{department.name}}">{{department.name}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="div">Division</label>
                                <select name="div" id="div" required>
                                    <option value="" disabled selected>Choose...</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="year">Academic year</label>
                                <select name="year" id="year" required>
                                    <option value="" disabled selected>Choose...</option>
                                    <option value="Second">Second</option>
                                    <option value="Third">Third</option>
                                    <option value="Fourth">Fourth</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="gen">Gender</label>
                                <select name="gender" id="gen" required>
                                    <option value="" disabled selected>Choose...</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="activity">Activity</label>
                                <select name="activity" id="activity" required>
                                    <option value="" disabled selected>Choose...</option>
                                    <option value="NA">NA</option>
                                    {% for activity in activities %}
                                    <option value="{{activity.name}}">{{activity.name}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="domain">Domain</label>
                                <select name="domain" id="domain" required>
                                    <option value="" disabled selected>Choose...</option>
                                    {% for domain in domains %}
                                    <option value="{{domain.name}}">{{domain.name}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="secret_code">Secret Code</label>
                                <input type="password" name="secret_code" id="secret_code" class="form-control" placeholder="Keep it secret" required>
                            </div>

                            <div style="display: none; text-align: left;" id="emailContainer" name="check">
                                <input type="checkbox" class="form-check-input" id="emailCheckbox">
                                <label for="emailCheckbox" class="form-check-label" id="emailLabel"> </label>
                            </div>
                            <div style="display: none; text-align: left;" id="PRNContainer" name="check">
                                <input type="checkbox" class="form-check-input" id="PRNCheckbox">
                                <label for="PRNCheckbox" class="form-check-label" id="PRNLabel"> </label>
                            </div>
                            <div style="display: none; text-align: left;" id="phnoContainer" name="check">
                                <input type="checkbox" class="form-check-input" id="phnoCheckbox">
                                <label for="phnoCheckbox" class="form-check-label" id="phnoLabel"> </label>
                            </div>

                            <div class="form-group">
                                {{ form.captcha }}
                            </div>
                    </div>

                    <div class="d-flex justify-content-center">
                        <button type="submit" id="btnRegister" class="btn btn-primary btn-sm text-body"
                            style="background-color: lightgray; color: #fff !important; font-weight: bold; font-size: 15px;"
                            disabled>Register</button>
                        <div class="spinner-border text-success" style="display: none; height:25px; width:25px;" id="loader">
                            <span class="sr-only"></span>
                        </div>
                        <span style="display: none; color:green;" id="registeringText">&nbsp; &nbsp;Registering...</span>
                    </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    <script>

        const btnRegister = document.getElementById('btnRegister');
        const loader = document.getElementById('loader');
        const registeringText = document.getElementById('registeringText');

        const emailField = document.getElementById("email");
        const emailContainer = document.getElementById("emailContainer");
        const emailLabel = document.getElementById("emailLabel");
        const emailCheckbox = document.getElementById("emailCheckbox");

        const prnField = document.getElementById("prn");
        const PRNContainer = document.getElementById("PRNContainer");
        const PRNLabel = document.getElementById("PRNLabel");
        const PRNCheckbox = document.getElementById("PRNCheckbox");

        const phoneField = document.getElementById("phone");
        const phnoContainer = document.getElementById("phnoContainer");
        const phnoLabel = document.getElementById("phnoLabel");
        const phnoCheckbox = document.getElementById("phnoCheckbox");

        emailField.addEventListener('input', showEmailCheckbox);
        prnField.addEventListener('input', showPRNCheckbox);
        phoneField.addEventListener('input', showPhNoCheckbox);

        function showEmailCheckbox() {
            const text = 'My Email ID is ' + emailField.value;
            if (emailField.value.length === 0) {
                emailContainer.style.display = 'none';
                emailCheckbox.checked = false;
                checkCheckboxes();
            }
            else {
                emailContainer.style.display = 'block';
                emailLabel.textContent = text;
            }
        };

        function showPRNCheckbox() {
            const text = 'My PRN is ' + prnField.value;
            if (prnField.value.length === 0) {
                PRNContainer.style.display = 'none';
                PRNCheckbox.checked = false;
                checkCheckboxes();
            }
            else {
                PRNContainer.style.display = 'block';
                PRNLabel.textContent = text;
            }
        };

        function showPhNoCheckbox() {
            const text = 'My Phone Number is ' + phoneField.value;
            if (phoneField.value.length === 0) {
                phnoContainer.style.display = 'none';
                phnoCheckbox.checked = false;
                checkCheckboxes();
            }
            else {
                phnoContainer.style.display = 'block';
                phnoLabel.textContent = text;
            }
        };


        function checkCheckboxes() {
            if (PRNCheckbox.checked && phnoCheckbox.checked && emailCheckbox.checked) {
                btnRegister.removeAttribute('disabled');
                btnRegister.style.backgroundColor = 'green';
            } else {
                btnRegister.setAttribute('disabled', 'disabled');
                btnRegister.style.backgroundColor = 'lightgray';
            }
        }

        PRNCheckbox.addEventListener('change', checkCheckboxes);
        phnoCheckbox.addEventListener('change', checkCheckboxes);
        emailCheckbox.addEventListener('change', checkCheckboxes);


        document.getElementById('myForm').addEventListener('submit', function (event) {
            btnRegisterstyle.display = 'none';
            loaderstyle.display = 'inline-block';
            registeringText.style.display = 'inline-block';
        });
    </script>
</body>
</html>
{% endif %}